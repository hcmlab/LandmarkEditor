import{d as C,l as d,I as m,x as _,y,o as p,v,f as D,W as k,O as V,c as w,J as a,t as x,n as O,X as T,Y as j,a as B,e as g,F as $}from"./index-DRfJpMGD.js";const S={key:0,class:"d-flex justify-center align-items-center-center w-100"},N=C({__name:"ProcessingSpinner",props:{running:{type:Boolean}},setup(i){const e=i,n=d(e.running);return m(()=>e.running,l=>{n.value=l},{deep:!0,immediate:!0}),(l,t)=>{const o=k;return n.value?(p(),_("div",S,[v(o,{class:"mx-1",small:"",variant:"primary"}),t[0]||(t[0]=D(" Processing... "))])):y("",!0)}}}),q={key:0,class:"text-danger fw-bold"},U=C({__name:"NotDetectedWarning",props:{tool:{},text:{}},setup(i){const e=i,n=V(),l=w(()=>{const t=n.selectedHistory;if(!t)return!0;const o=t.get(e.tool);return o?o.points.length>0:!1});return(t,o)=>l.value?y("",!0):(p(),_("div",q,[o[0]||(o[0]=a("i",{class:"bi bi-exclamation-triangle"},null,-1)),D(" "+x(e.text),1)]))}}),F={class:"form",style:{"padding-top":"0.2vw","padding-bottom":"0.2vw"}},I={class:"d-flex flex-column w-100 align-items-center"},W=["for"],z={class:"d-flex align-items-center justify-content-around"},A={class:"me-2"},E=["id","disabled"],P=C({__name:"ThreshouldDragBar",props:{topText:{},icon:{},modelValue:{},disabled:{type:Boolean}},emits:["update:modelValue"],setup(i,{emit:e}){const n=i,l=e,t=d(n.modelValue),o=d("threshold_"+n.topText.replace(" ","_"));return m(t,r=>{l("update:modelValue",r)}),m(()=>n.modelValue,r=>{t.value=r}),(r,u)=>(p(),_("div",F,[a("div",I,[a("label",{for:o.value,class:"form-label"},[a("b",null,[a("i",{class:O([r.icon,"bi"])},null,2),D(" "+x(n.topText),1)])],8,W)]),a("div",z,[a("div",A,x(Math.round(t.value*100)/100)+"%",1),T(a("input",{id:o.value,"onUpdate:modelValue":u[0]||(u[0]=b=>t.value=b),disabled:n.disabled,class:"form-range",max:"100",min:"0",type:"range"},null,8,E),[[j,t.value,void 0,{number:!0}]])])]))}}),J=C({__name:"ToolMenuPreamble",props:{config:{type:Object,required:!0,validator(i){return i?Object.keys(i).includes("minDetectionConfidence")&&Object.keys(i).includes("minPresenceConfidence")&&Object.keys(i).includes("isProcessing")&&Object.keys(i).includes("setMinDetectionConfidence")&&Object.keys(i).includes("setMinPresenceConfidence"):!1}},tool:{type:String,required:!0},notDetectedText:{type:String,required:!0}},setup(i){const e=i,n=V(),l=d(!1),t=d(e.config.minDetectionConfidence*100),o=d(e.config.minPresenceConfidence*100),r=d(e.config.minDetectionConfidence*100),u=d(e.config.minPresenceConfidence*100);m(()=>e.config.isProcessing,s=>{l.value=s},{deep:!0,immediate:!0}),m(()=>e.config.minDetectionConfidence,s=>{t.value=s*100}),m(()=>e.config.minPresenceConfidence,s=>{o.value=s*100});const b=s=>{n.tools.has(e.tool)&&(r.value=e.config.minDetectionConfidence,u.value=e.config.minPresenceConfidence,e.config.setMinDetectionConfidence(s/100),h())},M=s=>{n.tools.has(e.tool)&&(r.value=e.config.minDetectionConfidence,u.value=e.config.minPresenceConfidence,e.config.setMinPresenceConfidence(s/100),h())};function h(){var s;(s=n.getModel(e.tool))==null||s.updateSettings().then(c=>n.histories.requestDetection(e.tool,r.value,u.value))}return(s,c)=>(p(),_($,null,[v(N,{running:l.value},null,8,["running"]),l.value?y("",!0):(p(),B(U,{key:0,text:e.notDetectedText,tool:e.tool},null,8,["text","tool"])),v(P,{modelValue:t.value,"onUpdate:modelValue":c[0]||(c[0]=f=>t.value=f),disabled:g(n).histories.toolOverwriteModalConfig!==void 0&&g(n).histories.toolOverwriteModalConfig.tool!==e.tool,icon:"bi-speedometer2","top-text":"Minimum Detection Confidence",onChange:c[1]||(c[1]=f=>b(t.value))},null,8,["modelValue","disabled"]),v(P,{modelValue:o.value,"onUpdate:modelValue":c[2]||(c[2]=f=>o.value=f),disabled:g(n).histories.toolOverwriteModalConfig!==void 0&&g(n).histories.toolOverwriteModalConfig.tool!==e.tool,icon:"bi-speedometer2","top-text":"Minimum Presence Confidence",onChange:c[3]||(c[3]=f=>M(o.value))},null,8,["modelValue","disabled"])],64))}});export{J as _};
